{{- $name := .Get "name" | default (.Get 0) -}}
{{- $icon := index site.Data.icons $name -}}
{{- $attributes := .Get "attributes" | default "height=1em style=vertical-align:middle;display:inline-block;"}}

{{- if not $icon -}}
  {{ errorf "icon %q not found" $name }}
{{- end -}}

{{- $icon = replaceRE "<svg" (printf "<svg %s" $attributes) $icon -}}

<span class="hx-inline-block hx-align-text-bottom icon">
  {{- $icon | safeHTML -}}
</span>
